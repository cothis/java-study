<!doctype html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>DOM 선택자 id, class, tag</title>
    <script>
        /* DOM 객체 선택시 사용할 메소드
        document.getElementById("id명") : id 속성 요소 1개 리턴
        document.getElementsByTagName("태그명") : tag 요소 여러개 리턴(배열)
        document.getElementsByClassName("클래스명") : class 요소 여러개 리턴(배열)
        //-----------------------------
        document.querySelector("선택자") : 해당 선택자를 이용하여 첫번째 1개 리턴
        document.querySelectorAll("선택자") : 해당 선택자를 이용하여 검색한 요소 여러개 리턴(배열)
         */
        
        // HTML 요소를 못찾음
        let titleFirst = document.getElementById("title");
        console.log("script 시작 지점 : " + titleFirst);
        
        // 브라우저 문서가 모두 로딩완료되면 발생하는 이벤트 onload에 콜백함수 작성
        window.onload = function () {
            let title = document.getElementById("title");
            console.log("onload " + title);
            
            document.getElementById("title").style["color"] = "red";
            title.style.color = "blue";
            title.style.backgroundColor = "yellow";
            
            // document.getElementsTagName("태그명") : tag 요소 여러개 리턴(배열)
            console.log(document.getElementsByTagName("h1")); //HTMLCollection
            console.log(document.getElementsByTagName("h1")[0]);
            document.getElementsByTagName("h1")[0].style.color = "red";
            
            // document.getElementsByClassName("클래스명") : class 요소 여러개 리턴(배열)
            let clFoodList = document.getElementsByClassName("food_list");
            console.log(clFoodList);
            clFoodList[0].style.backgroundColor = "magenta";
            clFoodList[1].style.backgroundColor = "aqua";
            
            /* 반복문으로 설정하기
            for (let foodList of clFoodList) {
                foodList.style.backgroundColor = "green";
            }
            */
            
            // ========================================================
            // id 명으로 찾기
            let div1 = document.getElementById("food_1");
            div1.style.backgroundColor = "orange";
            div1.style.border = "2px solid black";

            // ========================================================
            // 태그명으로 찾기
            let list = document.getElementsByTagName("li");
            list[2].style.backgroundColor = "gray";
            
            // ========================================================
            // 체이닝 방식
            let bulgogi = document.getElementById("food_1").getElementsByTagName("li")[1];
            bulgogi.style.backgroundColor = "aqua";
            bulgogi.style.color = "red";
    
            // ========================================================
            // querySelector("선택자") : css 선택자에 의해 선택된 첫번째 요소 리턴
            let selOne = document.querySelector("div > h2"); // 2개지만 먼저 찾아진거(위에서부터) 리턴
            selOne.style.backgroundColor = "gray";
            
            // querySelectorAll("선택자") : css 선택자에 의해 선택된 모든 요소 리턴(배열)
            let selAll = document.querySelectorAll("div > h2"); // 2개짜리 배열이 나온다.
            selAll[0].style.border = "3px solid blue";
            selAll[1].style.border = "3px solid blue";
            
            for (let i = 0; i < selAll.length; i++) {
                selAll[i].style.color = "red";
            }
            
            // 양식 리스트에 항목 추가하기
            let foodList2 = document.querySelector("#food_2 > ol");
            // let htmlTags = foodList2.innerHTML;
            // htmlTags += "<li>짜장면</li>";
            // foodList2.innerHTML = htmlTags;
            foodList2.innerHTML += "<li>짜장면</li>"; // 위 3줄을 요약하면 이렇게 가능
            
            let input = document.querySelector("input");
            input.addEventListener('keypress', (e) => {
               if (e.key === 'Enter') {
                   addList();
                   input.value = '';
               }
            });
            
        };
        
        function addList() {
            let newItem = document.querySelector("input").value;
            let ol = document.querySelector("#food_2 > ol");
            ol.innerHTML += "<li>" + newItem + "</li>";
        }
        
        function deleteList() {
            let deleteRowNumber = Number.parseInt(document.querySelector("input").value);
            deleteRowNumber = deleteRowNumber || document.querySelectorAll("#food_2 > ol > li").length;
            let selectedLi = document.querySelector("#food_2 > ol > li:nth-child(" + deleteRowNumber + ")");
            selectedLi.remove();
        }
        
    </script>
    <style>
        div > h2 {
            font-size: 3em;
        }
    </style>
</head>
<body>
    <h1>좋아하는 음식</h1>
    <h2>한식, 중식</h2>
    <div id="food_1">
        <h2 id="title">한식</h2>
        <ol class="food_list">
            <li>
                <a href="#">김치</a>
            </li>
            <li>불고기</li>
            <li>비빔밥</li>
        </ol>
    </div>
    <div id="food_2">
        <h2>양식</h2>
        <ol class="food_list">
            <li>돈까스</li>
            <li>파스타</li>
        </ol>
    </div>
    <input type="text">
    <button onclick="addList()">추가</button>
    <button onclick="deleteList()">삭제</button>
    <script>
        let title = document.getElementById("title");
        console.log("바디 끝 " + title);
    </script>

</body>
</html>